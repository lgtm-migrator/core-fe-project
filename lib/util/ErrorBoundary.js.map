{"version":3,"file":"ErrorBoundary.js","sourceRoot":"","sources":["../../src/util/ErrorBoundary.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAC,YAAY,EAAC,MAAM,cAAc,CAAC;AAW1C;IAAmC,iCAAiC;IAIhE,uBAAY,KAAY;QAAxB,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,KAAK,GAAG,EAAC,SAAS,EAAE,IAAI,EAAC,CAAC;;IACnC,CAAC;IAEQ,yCAAiB,GAA1B,UAA2B,KAAY,EAAE,SAA0B;QAC/D,IAAM,SAAS,GAAG,YAAY,CAAC,KAAK,EAAE,4BAA4B,EAAE,EAAC,eAAe,EAAE,SAAS,CAAC,cAAc,EAAC,CAAC,CAAC;QACjH,IAAI,CAAC,QAAQ,CAAC,EAAC,SAAS,WAAA,EAAC,CAAC,CAAC;IAC/B,CAAC;IAEQ,8BAAM,GAAf;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC;IACxG,CAAC;IAfM,yBAAW,GAAG,eAAe,CAAC;IAC9B,0BAAY,GAA0B,EAAC,MAAM,EAAE,cAAM,OAAA,IAAI,EAAJ,CAAI,EAAC,CAAC;IAetE,oBAAC;CAAA,AAjBD,CAAmC,KAAK,CAAC,aAAa,GAiBrD;SAjBY,aAAa","sourcesContent":["import React from \"react\";\nimport {Exception} from \"../Exception\";\nimport {captureError} from \"./error-util\";\n\ninterface Props {\n    render: (exception: Exception) => React.ReactElement | null;\n    children: React.ReactNode;\n}\n\ninterface State {\n    exception: Exception | null;\n}\n\nexport class ErrorBoundary extends React.PureComponent<Props, State> {\n    static displayName = \"ErrorBoundary\";\n    static defaultProps: Pick<Props, \"render\"> = {render: () => null};\n\n    constructor(props: Props) {\n        super(props);\n        this.state = {exception: null};\n    }\n\n    override componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n        const exception = captureError(error, \"@@framework/error-boundary\", {extraStacktrace: errorInfo.componentStack});\n        this.setState({exception});\n    }\n\n    override render() {\n        return this.state.exception ? this.props.render(this.state.exception) : this.props.children || null;\n    }\n}\n"]}